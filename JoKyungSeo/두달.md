### 5주차(11/9 ~ 11/15)

- AWS VPC 유튜브 강의로 학습
- 시스템 아키텍쳐 개념 학습
- 면접질문리스트 정리 및 cs 지식 복습

### 면접 질문 리스트

- 간단한 자기소개
- MongoDB에서의 인덱스 활용
- 시스템 아키텍처 개념 (DB 다중화 등을 생각해보았는지)
- DB 설계를 어떤식으로 진행하는지
- Docker에 대해 아는지
- graphQL에 대해 아는지
- 배포 경험과 진행 방법
- 기업에게 궁금한 점

```
- 웹서버: 웹/모바일 트래픽 처리 용도
- 데이버베이스 서버: 데이터 저장 용도

- 로드밸런서(부하 분산기): 트래픽 과부하로 인한 응답속도 저하, 서버 장애 방지
  웹서버들에게 트래픽 부하를 고르게 분산한다.
  보안을 위해 로드밸런서에는 public IP 주소가 부여되고, 로드밸런서와 웹서버, 웹서버와 웹서버끼리는 private IP 주소로 통신한다.
```

## 고가용성 서비스를 위한 방법

- 수직적 확장
  하드웨어적으로 확장 - 고사양 자원 추가<br>
  한계 존재<br>
  트래픽 양이 적을 때 사용<br>
  단순하다.<br>
  장애에 대한 방안이 없다.<br>
  -> 서버 장애 발생 시 서비스 중단<br>

- 수평적 확장
  서버 장애 발생 시 방안이 있다. - 자동복구 / 다중화<br>
  대규모 애플리케이션에 사용 <br>
  데이터베이스의 수평적 확장: 샤딩<br>

  ex) 웹서버를 늘리면 서버1이 다운되더라도 서버2로 트래픽이 전송되어 전체 서버가 다운되는 일을 방지한다.

- 데이터베이스의 다중화

  - 성능 개선
  - 안정성
  - 가용성
  - master/slave 관계 설정
    master는 데이터 원본 저장, 쓰기 연산 지원<br>
    slave는 데이터 사본 저장, 읽기 연산만 지원<br>
    보통 읽기연산의 비중이 크기 때문에 slave 갯수가 더 많다.<br>
    - master/slave의 데이터 정합성 문제: slave의 데이터가 최신이 아닐 수 있다.
      - 복구스크립트, 다중마스터, 원형 다중화 방식 도입으로 해결

- 응답속도 개선: 캐시, CDN 사용

  > 애플리케이션의 성능은 데이터 베이스를 얼마나 자주 호출하느냐에 크게 좌우된다.

  - 캐시 계층의 장점

    - 성능 개선
    - DB 부하 줄임
    - 캐시 계층 규모 독립 확장 가능
    - 캐시 서버도 분산하는 것이 좋다. (SPOF 방지)
      -> 다양한 캐시 전략이 있으니 적절한 것을 선택하면 된다.

  - CDN(콘텐츠 전송 네트워크): 정적콘텐츠 전송에 쓰이는 지리적으로 분산된 서버의 네트워크.

    - 사용자가 정적 콘텐츠 요청 시, 사용자에게 가장 가까운 CDN 서버가 정적 콘텐츠를 전달한다.

  - 무상태 아키텍쳐
    서버마다 사용자의 상태를 저장하는 경우 서버 사이의 상태정보가 다르며, 서버 확장에 어려움이 있다.<br>
    따라서, 상태정보를 서버에 저장하지 않고, 공유 저장소에 담아 상태정보를 웹서버로부터 물리적으로 분리시킨다.<br>
    이런 구조는 단순하고, 안정적이며, 규모 확장이 쉽다.<br>

  - 데이터 센터
  - 메시지 큐
